<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmosis | Jacob Yosef</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/project.css">
</head>
<body class="project-page-body">

    <a href="#" id="back-to-top-btn" class="back-to-top">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
        <span>Back to Top</span>
    </a>

    <aside class="sidebar">
        <div class="sidebar-top">
            <a href="index.html" class="sidebar-top-link">
                <img src="images/linkedinprof.jpg" alt="Jacob's Profile" class="profile-image">
                <h1>Jacob Yosef</h1>
            </a>
            <h2>Technical & Systems Designer</h2>
        </div>
        <nav>
            <a href="index.html#projects">Projects</a>
            <a href="prototypes.html">Prototypes</a>
            <a href="resume.html">Resume</a>
            <a href="index.html#about-contact">Contact</a>
        </nav>
        <div class="sidebar-bottom">
            <a href="mailto:jacobyosef98@gmail.com">jacobyosef98@gmail.com</a>
        </div>
    </aside>

    <main class="main-content">
        <div class="project-container">
            <header class="project-header">
                <h1>Cosmosis</h1>
                <div class="project-tags">
                    <span class="project-tag">Team Project</span>
                    <span class="project-tag">- 4 Weeks</span>
                    <span class="project-tag">- Unreal Engine</span>
                </div>
            </header>

            <!-- Overview Section -->
            <section class="project-section">
                <div class="feature-showcase overview-showcase">
                    <div class="feature-text">
                        <h2>Overview</h2>
                        <p>
                            Cosmosis is a co-op action-adventure game set in a dystopian, post-apocalyptic world. Blending fast-paced combat with strategic teamwork, the game was designed as a cooperative experience that is also fully playable solo. My primary responsibility was designing and implementing the full roster of enemies and the final boss encounter.
                        </p>
                    </div>
                    <div class="main-visual">
                        <video controls autoplay loop muted playsinline>
                            <source src="videos/CosmosisTrailer.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </section>

            <!-- Contributions Navigation Section -->
            <section class="project-section" id="role-and-contributions">
                <h2>My Role & Contributions</h2>
                <ul class="roles-list">
                    <li>Technical Design</li>
                    <li>Enemy & Boss Design</li>
                </ul>
                <div class="contribution-tags">
                    <a href="#enemies-section" class="contribution-tag">Enemy Design</a>
                    <a href="#boss-section" class="contribution-tag">Boss Design</a>
                    <a href="#animation-section" class="contribution-tag">Animation Implementation</a>
                </div>
            </section>

            <!-- Enemies Section -->
            <section class="project-section" id="enemies-section">
                <h2>Enemies</h2>
                <div class="feature-showcase">
                    <div class="feature-text">
                        <h3>Design Philosophy</h3>
                        <p>
                            I began by researching successful top-down combat games like <em>Hades</em> and <em>V Rising</em>. My goal was to avoid a horde-based system and instead focus on fewer, more meaningful enemies. Each enemy was designed to have slightly unique patterns and abilities, requiring players to actually learn how some of them work.
                        </p>
                    </div>
                    <div class="feature-visual">
                        <img src="https://via.placeholder.com/400x300.gif/1f1f1f/ffffff?text=Enemy+Showcase" alt="GIF of enemy gameplay">
                    </div>
                </div>

                <div class="feature-showcase reverse">
                    <div class="feature-text">
                        <h3>Enemy Tiers</h3>
                        <p>
                            I designed a tier system (<span class="tier-green">Green</span>, <span class="tier-yellow">Yellow</span>, <span class="tier-red">Red</span>) to classify the 7 unique enemies based on complexity and difficulty. <span class="tier-green">Green</span>-tier enemies were simple, serving as an introduction and appearing in larger groups. <span class="tier-yellow">Yellow</span> and <span class="tier-red">Red</span>-tier enemies were designed for more complex behaviors and a wider range of abilities, such as the 'Summoner' and the beefier 'Brute' enemy.
                        </p>
                    </div>
                    <div class="feature-visual">
                        <img src="images/cosmosis/enemytiers.png" alt="A diagram showing the Green, Yellow, and Red enemy tiers.">
                    </div>
                </div>

                <div class="feature-text-full">
                    <h3>Abilities</h3>
                    <p>
                        My process involved creating each ability within a modular Actor Component Blueprint. A key technical challenge was clearly telegraphing attacks. To solve this efficiently, I developed a reusable telegraph system with an event dispatcher that would signal when the indicator's timer finished. This blueprint exposed variables for size and lifetime, allowing it to be adapted for numerous enemy and player abilities, which saved significant development time.
                    </p>
                    <h3>Elemental Counterplay (Planned)</h3>
                    <p>
                        A core mechanic of <em>Cosmosis</em> involves players rotating between different stars to imbue their attacks with different elements. To integrate this into the enemy design, I conceptualized a system where high-tier enemies and bosses would channel powerful abilities marked by a specific elemental icon. Players would need to hit the enemy with an ability matching that element, to interrupt the cast and stun the enemy. Although time constraints prevented its final implementation, this system was designed to compliment this elemental combat system and reward players for mastering it.
                    </p>
                </div>
            </section>

            <!-- Boss Section -->
            <section class="project-section" id="boss-section">
                <h2>Boss</h2>
                <div class="feature-text-full">
                    <h3>Prototyping & Scoping</h3>
                    <!--<p>
                        The initial plan included two mini-bosses and a final boss. I began by prototyping a wide range of abilities, focusing on projectiles that could
                        be easily implemented and reused without relying heavily on our busy VFX artist.
                        However, due to unforeseen delays with multiplayer replication and core AI behavior, the team decided to scope down and focus solely on delivering a high-quality final boss. 
                        I adapted by repurposing the most compelling abilities I had already created for the mini-bosses and integrating them into the main boss's design.
                    </p>-->
                    <h3>Structure & Phasing</h3>
                    <!--<p>
                        With very little time to design and implement the boss, I opted for a straightforward three-phase structure.
                        The first phase icluded 3 main abilities and 2 minor abilities. The minor abilities were designed to be easier to deal with, but
                    </p>-->
                    <h3>Co-op and Single-Player Design</h3>
                    <p>
                        A fun challenge was designing abilities that were engaging in co-op but could be tweaked to work for a solo player as well.
                        I built all the ability components with modularity in mind so for some abilities, we could just adjust some variables such as attack count, speed, size etc.
                        For other abilities though, the logic had to be slightly altered. I tried to do this in a way that still remained fair and balanced.
                    </p>

                </div>

                <!-- Interactive Ability Showcase -->
                <div class="ability-showcase-interactive">
                    <h4>Ability: Curving Projectile</h4>
                    <div class="ability-content">
                        <div class="ability-visual">
                            <video class="ability-video sp-video active-video" autoplay loop muted playsinline>
                                <source src="videos/cosmosis/curving_projectile_single.mp4" type="video/mp4">
                            </video>
                            <video class="ability-video coop-video" autoplay loop muted playsinline>
                                <source src="videos/cosmosis/curving_projectile_coop.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="ability-details">
                            <div class="mode-selector">
                                <button class="mode-btn active" data-mode="sp" data-description="In single-player, the boss fires slower projectiles that circle back to the player.">
                                    Single-Player
                                </button>
                                <button class="mode-btn" data-mode="coop" data-description="In co-op, the projectiles target a random player, circle around and accelerate towards the other player.">
                                    Co-op
                                </button>
                            </div>
                            <p class="ability-description">
                                In single-player, the boss fires slower projectiles that circle back to the player.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="ability-showcase-interactive">
                    <h4>Ability: Tether</h4>
                    <div class="ability-content">
                        <div class="ability-visual">
                            <video class="ability-video sp-video active-video" autoplay loop muted playsinline>
                                <source src="videos/cosmosis/tether_single.mp4" type="video/mp4">
                            </video>
                            <video class="ability-video coop-video" autoplay loop muted playsinline>
                                <source src="videos/cosmosis/tether_coop.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="ability-details">
                            <div class="mode-selector">
                                <button class="mode-btn active" data-mode="sp" data-description="As a solo player, the boss tethers itself to you, dealing damage over time if you move too far away.">
                                    Single-Player
                                </button>
                                <button class="mode-btn" data-mode="coop" data-description="In co-op mode, you get tethered to your partner. If the tether is stretched too far, it breaks and damages both players.">
                                    Co-op
                                </button>
                            </div>
                            <p class="ability-description">
                                As a solo player, the boss tethers itself to you, dealing damage over time if you move too far away.
                            </p>
                        </div>
                    </div>
                </div>
                <!-- End Interactive Ability Showcase -->
            </section>

            <!-- Animation Section -->
            <section class="project-section" id="animation-section">
                <h2>Animation</h2>
                <div class="feature-showcase">
                    <div class="feature-text">
                        <h3>State Machines & Blendspaces</h3>
                        <p>
                            My role extended to implementing animations for most characters and enemies. This involved setting up Animation Blueprints with state machines to handle transitions between idle, moving, attacking, and death states. I utilized blendspaces for the player character to ensure smooth 8-directional movement, and used montage notifies to trigger abilities and damage.
                        </p>
                    </div>
                    <div class="feature-visual">
                        <img src="https://via.placeholder.com/400x300.gif/1f1f1f/ffffff?text=Animation+System" alt="GIF of animation system">
                    </div>
                </div>
            </section>

            <!-- Scrapped Abilities Section -->
            <section class="project-section" id="scrapped-abilities">
                <h2>Scrapped Abilities</h2>
                <p>During development, I prototyped over 30 abilities, giving most enemies and the boss more abilities than they needed. This was so that me and the design team could discuss and test different ability combinations in order to find the right fit, and as a result, a lot of abilities were ultimately cut. Here are some of those abilities.</p>

                <div class="scrapped-gallery">
                    <div class="gallery-main-player">
                        <!-- Two video players for smooth cross-fading -->
                        <video class="gallery-video active" autoplay loop muted playsinline>
                            <source src="videos/cosmosis/scrapped1.mp4" type="video/mp4">
                        </video>
                        <video class="gallery-video" loop muted playsinline>
                            <!-- Secondary player for buffering -->
                        </video>
                    </div>
                    <div class="gallery-previews-wrapper">
                        <div class="gallery-previews">
                            <div class="preview-item active" data-video-src="videos/cosmosis/scrapped1.mp4">
                                <video muted playsinline><source src="videos/cosmosis/scrapped1.mp4" type="video/mp4"></video>
                                <span>Mini-Boss Bladestorm</span>
                            </div>
                            <div class="preview-item" data-video-src="videos/cosmosis/scrapped2.mp4">
                                <video muted playsinline><source src="videos/cosmosis/scrapped2.mp4" type="video/mp4"></video>
                                <span>Projectile Volleys</span>
                            </div>
                            <div class="preview-item" data-video-src="videos/cosmosis/scrapped3.mp4">
                                <video muted playsinline><source src="videos/cosmosis/scrapped3.mp4" type="video/mp4"></video>
                                <span>Rotating Projectiles</span>
                            </div>
                            <div class="preview-item" data-video-src="videos/cosmosis/scrapped4.mp4">
                                <video muted playsinline><source src="videos/cosmosis/scrapped4.mp4" type="video/mp4"></video>
                                <span>Projectile Shooter</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Reflection Section -->
            <section class="project-section" id="reflection-section">
                <h2>Reflection</h2>
                <!--<p>
                    This project was a valuable lesson in scoping and adaptation. Facing technical hurdles with multiplayer and AI forced us to make difficult but necessary decisions, such as cutting the mini-bosses to focus on the final encounter. This taught me to design modularly, as the abilities I had prototyped for the mini-bosses were easily repurposed. I also learned the importance of designing systems, like the reusable telegraph blueprint, that save time and can be leveraged by the entire team. Moving forward, I will place an even greater emphasis on proactive risk assessment and building flexible, scalable gameplay systems from the start.
                </p>-->
            </section>
        </div>
    </main>

    <!-- Lightbox container -->
    <div id="lightbox-overlay" class="lightbox-overlay">
        <img id="lightbox-image" class="lightbox-content" src="" alt="Enlarged view">
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Smooth scrolling for contribution links + brief subtitle highlight
            document.querySelectorAll('.contribution-tag').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();

                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (!targetElement) return;

                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });

                    // Wait for 500ms (0.5s) before applying the highlight
                    setTimeout(() => {
                        const subtitles = targetElement.querySelectorAll('h3, h4');
                        if (subtitles.length === 0) return;

                        subtitles.forEach(subtitle => {
                            // Restart the animation reliably on each subtitle
                            subtitle.classList.remove('highlight');
                            void subtitle.offsetWidth; // force reflow so animation can replay
                            subtitle.classList.add('highlight');

                            // Remove the class after the animation so it can be triggered again
                            setTimeout(() => {
                                subtitle.classList.remove('highlight');
                            }, 1600); // match CSS (1.5s) + small buffer
                        });
                    }, 500); // 0.5 second delay
                });
            });

            // --- Image Lightbox Logic ---
            const lightboxOverlay = document.getElementById('lightbox-overlay');
            const lightboxImage = document.getElementById('lightbox-image');
            const imagesToEnlarge = document.querySelectorAll('.feature-visual img, .full-width-visual img');

            imagesToEnlarge.forEach(img => {
                img.addEventListener('click', () => {
                    lightboxImage.src = img.src;
                    lightboxOverlay.classList.add('visible');
                });
            });

            // Hide lightbox when clicking on the overlay
            lightboxOverlay.addEventListener('click', () => {
                lightboxOverlay.classList.remove('visible');
            });


            // Interactive Ability Showcase Logic
            const showcases = document.querySelectorAll('.ability-showcase-interactive');
            showcases.forEach(showcase => {
                const description = showcase.querySelector('.ability-description');
                const buttons = showcase.querySelectorAll('.mode-btn');
                const spVideo = showcase.querySelector('.sp-video');
                const coopVideo = showcase.querySelector('.coop-video');

                buttons.forEach(button => {
                    button.addEventListener('click', () => {
                        const mode = button.dataset.mode;
                        let activeVideo, inactiveVideo;

                        if (mode === 'sp') {
                            activeVideo = spVideo;
                            inactiveVideo = coopVideo;
                        } else {
                            activeVideo = coopVideo;
                            inactiveVideo = spVideo;
                        }

                        activeVideo.classList.add('active-video');
                        inactiveVideo.classList.remove('active-video');

                        activeVideo.currentTime = 0;
                        activeVideo.play();
                        inactiveVideo.pause();

                        description.textContent = button.dataset.description;

                        buttons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                    });
                });
            });

            // Scrapped Abilities Gallery Logic (Smooth Transition)
            const galleryContainer = document.querySelector('.gallery-main-player');
            const previews = document.querySelectorAll('.preview-item');

            if (galleryContainer && previews.length > 0) {
                const videoPlayers = galleryContainer.querySelectorAll('.gallery-video');
                let activePlayerIndex = 0;

                previews.forEach(preview => {
                    preview.addEventListener('click', () => {
                        if (preview.classList.contains('active')) return;

                        const videoSrc = preview.dataset.videoSrc;

                        const currentPlayer = videoPlayers[activePlayerIndex];
                        const nextPlayerIndex = (activePlayerIndex + 1) % 2;
                        const nextPlayer = videoPlayers[nextPlayerIndex];

                        nextPlayer.src = videoSrc;
                        nextPlayer.load();

                        const playNextVideo = () => {
                            nextPlayer.play();

                            nextPlayer.classList.add('active');
                            currentPlayer.classList.remove('active');

                            activePlayerIndex = nextPlayerIndex;

                            setTimeout(() => {
                                currentPlayer.pause();
                                currentPlayer.src = "";
                            }, 500);

                            nextPlayer.removeEventListener('canplay', playNextVideo);
                        };

                        nextPlayer.addEventListener('canplay', playNextVideo);

                        previews.forEach(p => p.classList.remove('active'));
                        preview.classList.add('active');
                    });
                });
            }
        });

        // Back to Top Button Logic
        const backToTopButton = document.getElementById('back-to-top-btn');
        if (backToTopButton) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }
            });

            backToTopButton.addEventListener('click', (e) => {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'auto'
                });
            });
        }
    </script>
</body>
</html>